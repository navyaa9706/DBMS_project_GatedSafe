{% extends "base.html" %}

{% block title %}Resident Dashboard{% endblock %}

{% block content %}
  <div class="site-title">üè° Gated Society</div>

  <div class="main-content">
    <div class="container">
      <h2 class="centered">Welcome</h2>
      <div class="details">
        <p>
          <strong>Resident ID:</strong> {{ resident.id }}<br>
          <strong>Flat No:</strong> {{ resident.flat_no }}<br>
          <strong>Name:</strong> {{ resident.name }}
        </p>
      </div>
    </div>

    <div class="container">
      <h3 class="centered">Past Visit Records</h3>
      
      <div style="max-width: 100%; overflow-x: auto;">
        <table border="1" cellpadding="8" cellspacing="0" style="width: 100%;">
          <thead>
            <tr>
              <th>ID</th>
              <th>Visitor Name</th>
              <th>Purpose</th>
              <th>Entry Gate</th>
              <th>Entry Time</th>
              <th>Exit Gate</th>
              <th>Exit Time</th>
            </tr>
          </thead>
          <tbody>
            {% for record in records %}
            <tr>
              <td>{{ record.log_id }}</td>
              <td>{{ record.visitor_name }}</td>
              <td>{{ record.purpose }}</td>
              <td>{{ record.entry_gate }}</td>
              <td>{{ record.entry_time }}</td>
              <td>{{ record.exit_gate if record.exit_gate else '‚Äî' }}</td>
              <td>{{ record.exit_time if record.exit_time else '‚Äî' }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endblock %}